#!/usr/bin/env python
#encoding: utf-8;

from pwn import *
import sys

FILENAME = "./defcon2014heap"

rhp = {'host':"localhost",'port':12340}
context(os='linux',arch='i386')
binf = ELF(FILENAME)

def exploit(conn):
  pass

if len(sys.argv)>1:
  if sys.argv[1][0]=="d":
    cmd = """
      set follow-fork-mode parent
    """
    conn = gdb.debug(FILENAME,cmd)
else:
    conn = remote(rhp['host'],rhp['port'])
exploit(conn)
conn.interactive()

