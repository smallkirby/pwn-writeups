#!/usr/bin/env python
#encoding: utf-8;

from pwn import *
import sys
import json

trace = open("./calc.trace")
j = json.load(trace)
trace_me = open("./branchtrce3.out")
k = json.load(trace_me)


kanma_addr = 0x55f6b4d44be9


case1 = []
case2 = []
kanma_num = 0
line_num = 1

for i,a in enumerate(j):
  line_num += 1
  if "inst_addr" in j[i].keys():
    if j[i]["branch_taken"] != k[i]["branch_taken"]:
      break
    if kanma_addr==int(a["inst_addr"],16):
      kanma_num += 1

print("error@ "+str(line_num))
print(str(kanma_num))
